#!/bin/bash

# URL to send the POST request to
URL="https://your-api-endpoint.com/api"

# Data to send in the POST request
DATA='{"key1":"value1","key2":"value2"}'

# Send POST request and capture response code and body
RESPONSE=$(curl -s -w "\n%{http_code}" -X POST -H "Content-Type: application/json" -d "$DATA" "$URL")

# Split response into body and code
RESPONSE_BODY=$(echo "$RESPONSE" | sed '$d')
RESPONSE_CODE=$(echo "$RESPONSE" | tail -n 1)

# Print response code and body
echo "Response Code: $RESPONSE_CODE"
echo "Response Body: $RESPONSE_BODY"

# Check if the response code is 200
if [ "$RESPONSE_CODE" -ne 200 ]; then
    echo "Request failed with response code $RESPONSE_CODE"
    exit 1
fi

exit 0
